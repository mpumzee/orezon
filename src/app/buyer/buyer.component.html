<app-nav-bar></app-nav-bar>

<div class="container" style="margin-top: 30px;">
    <div class="grid grid-cols-1 pb-8 text-center">
        <h1 class="text-green-700 font-weight-bold text-5xl uppercase mb-2">Buyer Registration</h1>

        <p class="text-slate-400 dark:text-slate-300 max-w-xl mx-auto">Register as a buyer in order to checkout and
            order available products.</p>
    </div>

    <div *ngIf="error" class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>

        <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0">
            <div class="flex min-h-full items-end justify-center p-4 text-center xl:items-center xl:p-0">
                <div
                    class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all xl:my-8 xl:w-full xl:max-w-lg">
                    <div class="bg-white px-4 pb-4 pt-5 xl:p-6 xl:pb-4">
                        <div class="xl:flex xl:items-start">
                            <div class="mt-3 text-center xl:ml-4 xl:mt-0 xl:text-left">
                                <div class="mt-2">
                                    <p class="text-lg text-gray-500">{{errorMsg}}.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 px-4 py-3 xl:flex xl:flex-row-reverse xl:px-6">
                        <button type="button" (click)="hideDialog()"
                            class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-lg font-semibold text-gray-900 shadow-xl ring-1 ring-inset ring-gray-300 hover:bg-gray-50 xl:mt-0 xl:w-auto">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-white border border-4 rounded-lg shadow relative m-10">
        <div class="p-6 space-y-6 mt-8">
            <form [formGroup]="profileForm" (submit)="createProfile()">
                <div class="grid grid-cols-12 gap-6 mb-8">
                    <div class="col-span-12 sm:col-span-4">
                        <div class="col-span-4 sm:col-span-2 mb-5">
                            <label for="product-name" class="text-xl font-medium text-gray-900 block mb-2">Full
                                Name</label>
                            <input type="text" name="name" id="name"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                id="name" formControlName="name" placeholder="enter your full name" required="">
                        </div>
                        <div class="col-span-4 sm:col-span-2  mb-5">
                            <label for="category" class="text-xl font-medium text-gray-900 block mb-2">Email</label>
                            <input type="email" name="email" id="email" formControlName="email"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                placeholder="enter your email" required="">
                        </div>
                        <div class="col-span-4 sm:col-span-2  mb-5">
                            <label for="brand" class="text-xl font-medium text-gray-900 block mb-2">Password<i
                                    style="color: grey;">(*atleast 8
                                    characters)</i></label>
                            <input type="password" name="password" id="password"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                formControlName="password" minlength="8" placeholder="password" required="">
                        </div>
                        <div class="col-span-4 sm:col-span-2  mb-5">
                            <label for="price" class="text-xl font-medium text-gray-900 block mb-2">Password
                                Confirmation<i style="color: grey;"></i></label>
                            <input type="password" (ngModelChange)="check()" name="password_confirmation"
                                id="password_confirmation"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                formControlName="password_confirmation" placeholder="re-enter your password"
                                required="">
                            <p *ngIf="errorAlert" class="mt-2 text-xl text-red-600 dark:text-red-500"><span
                                    class="font-medium">Error!</span> Passwords do not match.</p>
                        </div>
                    </div>
                    <div class="col-span-12 sm:col-span-4">
                        <div class="col-span-4 sm:col-span-2 mb-5">
                            <label for="product-name" class="text-xl font-medium text-gray-900 block mb-2">National ID/
                                Passport No<i style="color: grey;"> (*6 - 12
                                    characters)</i></label>
                            <input type="text" name="id_number" id="id_number"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                formControlName="id_number" maxlength="12" placeholder="enter national ID/ passport No"
                                required="">
                        </div>
                        <div class="col-span-4 sm:col-span-2 mb-5">
                            <label for="category" class="text-xl font-medium text-gray-900 block mb-2">Country</label>
                            <select id="country"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                formControlName="country" required>
                                <option value="">Select Country</option>
                                <option *ngFor="let country of countries" [value]="country">{{country}}</option>
                            </select>
                        </div>
                        <div class="col-span-4 sm:col-span-2 mb-5">
                            <label for="brand" class="text-xl font-medium text-gray-900 block mb-2">Address</label>
                            <input type="text"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                id="address" formControlName="address" placeholder="Enter address" required>
                        </div>
                        <div class="col-span-4 sm:col-span-2 mb-5">
                            <label for="price" class="text-xl font-medium text-gray-900 block mb-2">Phone</label>
                            <input type="text"
                                class="form-control shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-xl rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                id="phone" formControlName="phone" minlength="10" placeholder="Enter phone" required>
                        </div>
                    </div>
                    <div class="col-span-12 sm:col-span-4 flex flex-col items-center">
                        <div class="col-md-6 image-upload p-2 rounded bg-info"
                            style="border-radius: 4px;border: solid 1px rgb(184, 181, 181);margin-top:25px;padding:15px;">
                            <input type="file" class="form-control" id="profile_pic" formControlName="profile_pic"
                                (change)="onFileSelected($event)" accept="image/*"
                                style="width: 100%; height: 100%; opacity: 0; position: absolute; top: 0; left: 0; z-index: 9; cursor: pointer;">

                            <div class="image-uploads text-center">
                                <img *ngIf="selectedFile" [src]="getImagePreview()" alt="Uploaded Image"
                                    class="mx-auto d-block" style="max-height: 150px; max-width: 100%;">
                                <img src="assets/img/upload.svg" alt="img" class="mx-auto d-block"
                                    *ngIf="!selectedFile">
                                <div class="text-center">Drag and drop your profile picture to upload or click to select
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="p-6 border-t border-gray-200 rounded-b">
                    <button
                        class="btn btn-primary btn-block text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:ring-green-200 font-medium rounded-lg text-2xl px-5 py-2.5 text-center"
                        type="submit" [disabled]="!profileForm.valid">Submit</button>
                </div>
            </form>
        </div>

    </div>

</div>
<app-footer></app-footer>